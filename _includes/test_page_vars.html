{% assign s1 = "<span class='s1'>" %}{% assign se = "</span>" %}
{% assign s2 = "<br>&nbsp;<span class='s2'>" %}
{% assign s3 = "<span class='s3'>" %}
{% assign na = "<span class='na'>--NOT AVAILABLE--</span>" %}
{% assign st1 = "class='st1'" %}

{% if page.collection %}
<h2>Here are the main collection variables/metadata available in Jekyll on GitHub Pages (if this is part of a collection):</h2>
{% assign col = site.collections | where: 'label','github-pages' | first%}
<dl>
    <dd>col.description {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.description | default:na }}{{se}}
      {{s2}}The optional description metadata from <code>_config.yml</code>. {{se}}</dt>

    <dd>col.directory {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.directory | default:na }}{{se}}
      {{s2}}The source folder that contains the collection documents. {{se}}</dt>

    <dd>col.docs {{s1}}(Array, Not shown){{se}}</dd>
    <dt {{st1}}>{{s3}}{{se}}
      {{s2}}An array of unrendered source. 1 entry for each document. {{se}}</dt>

    <dd>col.files {{s1}}(Array, Not shown){{se}}</dd>
    <dt {{st1}}>{{s3}}{{se}}
      {{s2}}An array of static files in the collection. {{se}}</dt>

    <dd>col.label {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.label | default:na }}{{se}}
      {{s2}}The name of the collection (e.g. the collection folder name without the leading underscore). {{se}}</dt>

    <dd>col.output {{s1}}(boolean){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.output | default:na }}{{se}}
      {{s2}}Whether documents in the collection should be rendered as pages. {{se}}</dt>

    <dd>col.permalink {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.permalink | default:na }}{{se}}
      {{s2}}Permalink style for output pages. {{se}}</dt>

    <dd>col.relative_directory {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.relative_directory | default:na }}{{se}}
      {{s2}}The source folder that contains the collection documents. Relative to the site source. {{se}}</dt>

    <dd>col.title {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.title | default:na }}{{se}}
      {{s2}}The optional title metadata from <code>_config.yml</code>. {{se}}</dt>

    <dd>col.ymlMeta {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ col.ymlMeta | default:na }}{{se}}
      {{s2}}Custom metadata from <code>_config.yml</code>. {{se}}</dt>

</dl>
{% endif %}

<h2>Here are the main page variables/metadata available in Jekyll on GitHub Pages:</h2>
<dl>
    <dd>page.collection {{s1}}(collection documents only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.collection | default:na }}{{se}}
      {{s2}}The name of the current collection if this is a collection document. {{se}}</dt>

    <dd>page.comments {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.comments | default:na }}{{se}}
      {{s2}}Custom metadata, set in <code>_config.yml</code> defaults but set to "test" in the frontmatter for this page.
      NB: value of false triggers the default N/A msg {{se}}</dt>

    <dd>page.content {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.content | default:na | escape_once | strip_newlines | truncatewords: 10 }}{{se}}
      {{s2}}The unrendered content for the document. {{se}}</dt>

    <dd>page.date {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.date | default:na }}{{se}}
      {{s2}}Custom metadata, set in the frontmatter for the page though docs indicate this should be created automatically {{se}}</dt>

    <dd>page.description</dd>
    <dt {{st1}}>{{s3}}{{ page.description | default:na }}{{se}}
      {{s2}}Custom metadata, set in the frontmatter for the page. Commonly used in templates. {{se}}</dt>

    <dd>page.dir {{s1}}(actual Jekyll Pages only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.dir | default:na }}{{se}}
      {{s2}}The name of the folder containing the Page. With leading/trailing slashes. {{se}}</dt>

    <dd>page.draft {{s1}}(collection documents and Posts only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.draft | default:na }}{{se}}
      {{s2}}Whether the document/post is in draft (unpublished). {{se}}</dt>

    <dd>page.excerpt {{s1}}(collection documents and Posts only?){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.excerpt | default:na | strip_newlines | truncatewords: 10 }}{{se}}
      {{s2}}The unrendered excerpt of the document/post. Excerpts are generated from the top of the page (after the frontmatter)
      until the first <code>excerpt_separator</code> (a blank line by default). {{se}}</dt>

    <dd>page.excerpt_separator {{s1}}(collection documents and Posts only?){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.excerpt_separator | default:na }}{{se}}
      {{s2}}The trigger for the end of a generated excerpt (a blank line by default). May be set in the frontmatter. {{se}}</dt>

    <dd>page.ext {{s1}}(collection documents and Posts only?){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.ext | default:na }}{{se}}
      {{s2}}The extension of the document/post. With leading dot. {{se}}</dt>

    <dd>page.id {{s1}}(collection documents and Posts only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.id | default:na }}{{se}}
      {{s2}}The document/post ID. For a collection document, the format is <code>/[collectionName]/[pageSlug]</code> {{se}}</dt>

    <dd>page.layout</dd>
    <dt {{st1}}>{{s3}}{{ page.layout | default:na }}{{se}}
      {{s2}}The layout name for the page. Typically one of default, page, post, home. Must match the name of a layout file
      in the <code>_layouts</code> folder. e.g. <code>home.html</code> {{se}}</dt>

    <dd>page.name {{s1}}(actual Jekyll Pages only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.name | default:na }}{{se}}
      {{s2}}The name of the Page (with original extension, e.g. <code>test2.md</code>) {{se}}</dt>

    <dd>page.output {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.output | default:na | escape_once | strip_newlines | truncatewords: 10 }}{{se}}
      {{s2}}The rendered version of the page (e.g. all Jekyll markup replaced). {{se}}</dt>

    <dd>page.path</dd>
    <dt {{st1}}>{{s3}}{{ page.path | default:na }}{{se}}
      {{s2}}The path to the original (unrendered) file. Without leading slash (e.g. <code>_nr-qa/test2.md</code>) {{se}}</dt>

    <dd>page.relative_path {{s1}}(collection documents and Posts only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.relative_path | default:na }}{{se}}
      {{s2}}The path to the original (unrendered) file. Without leading slash (e.g. <code>_nr-qa/test2.md</code>) {{se}}</dt>

    <dd>page.slug {{s1}}(collection documents and Posts only){{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.slug | default:na }}{{se}}
      {{s2}} {{se}}</dt>

    <dd>page.testFm {{s1}}{{se}}</dd>
    <dt {{st1}}>{{s3}}{{ page.testFm | default:na }}{{se}}
      {{s2}}Custom metadata, set in the frontmatter for this page. {{se}}</dt>

    <dd>page.title</dd>
    <dt {{st1}}>{{s3}}{{ page.title | default:na }}{{se}}
      {{s2}}Custom metadata, set in the frontmatter for the page. Commonly used in templates to provide the HTML title and
      often an H1 tag at the top of the page content. {{se}}</dt>

    <dd>page.url</dd>
    <dt {{st1}}>{{s3}}{{ page.url | default:na }}{{se}}
      {{s2}}The absolute URL for rendered version of the document. With leading slash, e.g. <code>/nr-qa/test2.html</code> {{se}}</dt>

</dl>

<script>
    (function() {
        // Dump the page object to a JS variable - note we have to strip or escape the html
        var jk_page = {{ page | jsonify | strip_html }};
        console.log('--PAGE (jsonify)--', jk_page)

        var site = {{ site | jsonify | strip_html }};
        console.log('--SITE (jsonify)--', site)

        var sitePages = {{ site.pages | jsonify | strip_html }};
        console.log('--SITE.PAGES (jsonify)--', sitePages)

        var siteDocuments = {{ site.documents | jsonify | strip_html }};
        console.log('--SITE.DOCUMENTS (jsonify)--', siteDocuments)

        {% if page.collection %}
          var col = {{ col | jsonify | strip_html }};
          console.log('--SITE.COLLECTIONS.[this collection] (jsonify)--', col)

          var col2 = {{ site[col.label] | jsonify | strip_html }};
          console.log('--SITE.[this collection] (jsonify)--', col2)

        {% endif %}
    })();
</script>
